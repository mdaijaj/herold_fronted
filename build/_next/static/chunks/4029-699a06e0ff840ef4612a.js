(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4029],{9660:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var o=r(15671),n=r(4942),s=r(69135),c=r(9489),a=r.n(c),i=r(85893),l=function e(t){var r=this;(0,o.Z)(this,e),(0,n.Z)(this,"tooltip_element",void 0),Object.keys(this).forEach((function(e){r[e]=t?t[e]:e}))};function h(e){var t=(0,s.useAmp)(),r=new l(t?void 0:a());return(0,i.jsx)("div",{className:r.tooltip_element,children:e.text})}},47447:function(e,t,r){"use strict";r.d(t,{Z:function(){return D}});var o=r(15671),n=r(43144),s=r(79340),c=r(6215),a=r(61120),i=r(4942),l=r(67294),h=r(52659),p=r(73560),u=r(15861),d=r(97326),_=r(87757),f=r.n(_),m=r(94184),v=r.n(m),y=r(9439),b=r(5152),w=r(11163),x=r(40028),g=r(22132),C=r(77328),j=r.n(C),k=r(85893);function O(e){return(0,k.jsxs)("div",{className:j().main,children:[(0,k.jsx)("div",{className:j().prepend,children:(0,k.jsx)("i",{className:e.prependIcon})}),(0,k.jsxs)("span",{className:j().placeholder,children:[(0,k.jsxs)("span",{className:j().full_text,children:[" ",e.placeholder]}),(0,k.jsxs)("span",{className:j().short_text,children:[" ",e.placeholder_short]})]}),e.appendIcon&&(0,k.jsx)("div",{className:j().append,children:(0,k.jsx)("i",{className:e.appendIcon})})]})}var P=r(9660),Z=r(30477),L=r.n(Z);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,a.Z)(e);if(t){var n=(0,a.Z)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return(0,c.Z)(this,r)}}var T=function(e){(0,s.Z)(c,e);var t=A(c);function c(e){var n;return(0,o.Z)(this,c),n=t.call(this,e),(0,i.Z)((0,d.Z)(n),"InputSuggestionsModule",(0,b.default)((function(){return r.e(7152).then(r.bind(r,67152))}),{ssr:!1,loading:function(){return(0,k.jsx)(O,{placeholder:n.props.placeHolderForSearchInput||"",placeholder_short:n.props.placeHolderForSearchInput_short||"",prependIcon:"icon-suche"})},loadableGenerated:{webpack:function(){return[67152]},modules:["../app/components/modules/common/search-controls/search-controls.module.tsx -> ../../../elements/input-suggestions/input-suggestions.module"]}})),(0,i.Z)((0,d.Z)(n),"AutoCompleteLocationInput",(0,b.default)((function(){return r.e(8177).then(r.bind(r,98177))}),{ssr:!1,loading:function(){return(0,k.jsx)(O,{placeholder:n.props.searchLocationPlaceholder||"",placeholder_short:n.props.searchLocationPlaceholder_short||"",prependIcon:"icon-standort"})},loadableGenerated:{webpack:function(){return[98177]},modules:["../app/components/modules/common/search-controls/search-controls.module.tsx -> ../../../elements/auto-complete-location-input/auto-complete-location-input.element"]}})),(0,i.Z)((0,d.Z)(n),"handleSearchBtnClick",(0,u.Z)(f().mark((function e(){var t,r,o,s,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.context,r=t.userTerm,o=t.industryTerm,s=t.isLoading,c=r||o,!s){e.next=4;break}return e.abrupt("return");case 4:if(c){e.next=8;break}return n.setState({showInputError:!0}),setTimeout((function(){n.setState({showInputError:!1})}),5e3),e.abrupt("return");case 8:return e.next=10,n.goToSearchPage();case 10:case"end":return e.stop()}}),e)})))),n.state={showInputError:!1,showEmptyLocationError:!1},n}return(0,n.Z)(c,[{key:"render",value:function(){var e=this,t=this.context,r=t.setSelectedGeo,o=t.setOnlyOpenLocations,n=t.onlyOpenLocations,s=t.userTerm,c=t.industryTerm,a=t.selectedGeo,i=t.isLoading,l=(0,k.jsx)("div",{className:L().checkbox_wrapper,children:(0,k.jsx)("div",{children:(0,k.jsxs)("label",{className:"switch",children:[(0,k.jsx)("input",{type:"checkbox",onChange:function(e){return o(e.target.checked)},tabIndex:99,className:"form-new-checkbox-input",id:"jetzt",checked:n,"data-ht":this.props.eventCategory?"".concat(this.props.eventCategory,"|change|open_now_activated"):""}),(0,k.jsx)("span",{className:"slider round"}),(0,k.jsx)("span",{className:"text-lead",children:"Jetzt ge\xf6ffnet"})]})})});return(0,k.jsxs)("div",{className:v()(L().main,this.props.showCurrentlyOpenCheckbox?L().with_open_now:""),children:[(0,k.jsx)("div",{className:L().child,children:(0,k.jsxs)("div",{className:L().autocomplete_search_wrapper,children:[(0,k.jsx)(this.InputSuggestionsModule,{inputValue:s||c||"",showTypeAhead:this.props.showTypeAhead,prependIcon:"icon-suche",appendIcon:"icon-schliessen",executeSearch:function(){return e.handleSearchBtnClick()},placeholder_short:this.props.placeHolderForSearchInput_short,placeholder:this.props.placeHolderForSearchInput,height:"60px",eventCategory:this.props.eventCategory,inputEvent:"yp_search_options"===this.props.eventCategory?"industry_search_added":"wp_search_options"===this.props.eventCategory?"name_search_added":"phonebook_search_options"===this.props.eventCategory?"phone_number_added":"",suggestionEvent:"yp_search_options"===this.props.eventCategory?"industry_suggestion_used":""}),(0,k.jsx)("div",{className:L().custom_tooltip,children:this.state.showInputError&&(0,k.jsx)(P.Z,{text:"F\xfcllen Sie dieses Feld aus."})})]})}),this.props.showCurrentlyOpenCheckbox&&(0,k.jsx)("div",{className:v()(L().child,L().for_desktop),children:(0,k.jsx)("div",{className:this.props.showCurrentlyOpenCheckbox?"":L().hidden,children:l})}),!this.props.showCurrentlyOpenCheckbox&&this.props.showLocationControl&&(0,k.jsx)("div",{className:v()(L().child,L().for_mobile),style:{display:"block"}}),this.props.showLocationControl&&(0,k.jsx)("div",{className:L().child,children:(0,k.jsx)("div",{className:L().autocomplete_location_wrapper,children:(0,k.jsx)(this.AutoCompleteLocationInput,{uniqueIdKey:"searchLocation",userInput:null===a||void 0===a?void 0:a.label,width:"65%",showCustomTooltip:this.state.showEmptyLocationError,customTooltipText:"Bitte w\xe4hlen Sie zuerst einen Standort.",executeSearch:function(){return e.handleSearchBtnClick()},placeholder:this.props.searchLocationPlaceholder||"test",placeholder_short:this.props.searchLocationPlaceholder_short,prependIcon:"icon-standort",height:"60px",onChange:function(e){r(e)},eventCategory:this.props.eventCategory})})}),this.props.showCurrentlyOpenCheckbox&&(0,k.jsx)("div",{className:v()(L().child,L().for_mobile),children:(0,k.jsx)("div",{className:this.props.showCurrentlyOpenCheckbox?"":L().hidden,children:l})}),(0,k.jsx)("div",{className:L().child,children:(0,k.jsx)("div",{className:v()(L().button_wrapper,this.props.showCurrentlyOpenCheckbox?"":L().no_margin),children:(0,k.jsx)(g.Z,{height:"100%",size:"extra_large",isFullWidth:!0,disabled:i,onClick:function(){e.props.eventCategory&&x.Z.trackEvent({category:e.props.eventCategory,action:"click",label:"search"}),e.handleSearchBtnClick()},children:"SUCHEN"})})})]})}},{key:"goToSearchPage",value:function(){var e=(0,u.Z)(f().mark((function e(){var t,r,o,n,s,c,a,i,l,h,p,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.default.asPath.split("/")[1]||"gelbe-seiten",r="telefonnummernsuche"===t?"telefonbuch":t,o=this.context,n=o.selectedGeo,s=o.onlyOpenLocations,c=o.userTerm,a=o.industryTerm,i=o.searchExecuted,l=o.firstGeo,p={geoLabel:null===(h=null!==n&&void 0!==n?n:l)||void 0===h?void 0:h.label,openedNow:s},u=function(){switch(t){case"gelbe-seiten":return N({userTerm:c,industryTerm:a},p);case"telefonbuch":return N({userTerm:null!==c&&void 0!==c?c:a},p);case"telefonnummernsuche":return{userTerm:null!==c&&void 0!==c?c:a}}}(),Object.keys(u).forEach((function(e){u[e]||delete u[e]})),i(),this.props.forcedSearchPage&&(r=this.props.forcedSearchPage),e.next=11,w.default.push({query:u,pathname:"/".concat(r,"/suche")});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),c}(l.Component);(0,i.Z)(T,"contextType",h.ZP);var I=(0,y.NB)(T),E=r(23820),B=r.n(E);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=(0,a.Z)(e);if(t){var n=(0,a.Z)(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return(0,c.Z)(this,r)}}var D=function(e){(0,s.Z)(r,e);var t=H(r);function r(e){return(0,o.Z)(this,r),t.call(this,e)}return(0,n.Z)(r,[{key:"componentDidUpdate",value:function(e,t,r){if(e.defaultAccessor!==this.props.defaultAccessor&&this.props.defaultAccessor===p.b.PhonePersonSearchLabels){this.context.userTerm&&!this.context.userTerm.match(/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/)&&this.context.setUserTerm("")}}},{key:"render",value:function(){var e,t,r=this.getControlsConfig();return(0,k.jsx)("div",{className:B().module,children:(0,k.jsx)("div",{className:B().background,children:(0,k.jsx)("div",{className:B().search_container,children:(0,k.jsx)("div",{className:B().search_controls_wrapper,children:(0,k.jsxs)("div",{className:B().search_controls__inner,children:[this.props.showHeading&&r.heading&&(0,k.jsx)("h2",{className:B().heading,children:r.heading}),(0,k.jsx)(I,{showCurrentlyOpenCheckbox:r.showCurrentlyOpenCheckbox,searchLocation:r.searchLocation,searchLocationPlaceholder:r.searchLocationPlaceholder,searchLocationPlaceholder_short:r.searchLocationPlaceholder_short,placeHolderForSearchInput:null!==(e=r.searchInputPlaceHolder)&&void 0!==e?e:"",placeHolderForSearchInput_short:null!==(t=r.searchInputPlaceHolder_short)&&void 0!==t?t:"",showTypeAhead:r.showTypeAhead,showLocationControl:r.showLocationControl,searchButtonLabel:r.searchButtonLabel,eventCategory:this.props.eventCategory}),this.props.children]})})})})})}},{key:"getControlsConfig",value:function(){var e,t,r,o,n,s,c,a,l,h,u,d,_={};switch(this.props.defaultAccessor){case p.b.YellowPagesSearchLabels:_.showLocationControl=!0,_.showFrequentlySearchedBar=this.props.showFrequentlySearchedBar,_.showCurrentlyOpenCheckbox=this.props.showCurrentlyOpenCheckbox,_.showTypeAhead=!0;break;case p.b.WhitePagesSearchLabels:_.showLocationControl=!0,_.showFrequentlySearchedBar=!1,_.showCurrentlyOpenCheckbox=!1,_.showTypeAhead=!1;break;case p.b.PhonePersonSearchLabels:_.showLocationControl=!1,_.showFrequentlySearchedBar=!1,_.showCurrentlyOpenCheckbox=!1,_.showTypeAhead=!1}return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({searchInputPlaceHolder:(null===(e=this.props.searchArea)||void 0===e?void 0:e[this.props.defaultAccessor].long.input_placeholder)||"",searchInputPlaceHolder_short:(null===(t=this.props.searchArea)||void 0===t?void 0:t[this.props.defaultAccessor].short.input_placeholder)||"",searchLocationPlaceholder:(null===(r=this.props.searchArea)||void 0===r?void 0:r[this.props.defaultAccessor].long.geo_input_placeholder)||"",searchLocationPlaceholder_short:(null===(o=this.props.searchArea)||void 0===o?void 0:o[this.props.defaultAccessor].short.geo_input_placeholder)||"",searchButtonLabel:null!==(n=null===(s=this.props.searchArea)||void 0===s?void 0:s[this.props.defaultAccessor].long.button_text)&&void 0!==n?n:"",searchButtonLabelShort:null!==(c=null===(a=this.props.searchArea)||void 0===a?void 0:a[this.props.defaultAccessor].short.button_text)&&void 0!==c?c:"",heading:null!==(l=null===(h=this.props.searchArea)||void 0===h?void 0:h[this.props.defaultAccessor].title)&&void 0!==l?l:"",headingShort:null!==(u=null===(d=this.props.searchArea)||void 0===d?void 0:d[this.props.defaultAccessor].title)&&void 0!==u?u:""},_)}}]),r}(l.Component);(0,i.Z)(D,"contextType",h.ZP)},73560:function(e,t,r){"use strict";var o;r.d(t,{b:function(){return o}}),function(e){e.YellowPagesSearchLabels="yellow_page",e.WhitePagesSearchLabels="white_page",e.PhonePersonSearchLabels="phonenumber_page"}(o||(o={}))},12975:function(e,t,r){"use strict";r.d(t,{E:function(){return u}});var o,n,s,c=r(43269),a=r(53229),i=r(15671),l=r(4942),h=r(64896),p=r(4869),u=function e(){(0,i.Z)(this,e),(0,l.Z)(this,"phonenumber_page",void 0),(0,l.Z)(this,"white_page",void 0),(0,l.Z)(this,"yellow_page",void 0)};o=(0,p.D)((function(){return h.p8})),n=function e(){(0,i.Z)(this,e),(0,l.Z)(this,"id",void 0),(0,l.Z)(this,"label",void 0),(0,c.Z)(this,"icon",s,this),(0,l.Z)(this,"url",void 0)},s=(0,a.Z)(n.prototype,"icon",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null})},77328:function(e){e.exports={main:"dummy-search-input_element_main__BJuvV",full_text:"dummy-search-input_element_full_text__2qvKi",short_text:"dummy-search-input_element_short_text__2dJaT",prepend:"dummy-search-input_element_prepend__WyTGa",append:"dummy-search-input_element_append__jgHY5",placeholder:"dummy-search-input_element_placeholder__1tA6_"}},9489:function(e){e.exports={tooltip_element:"tooltip_element_tooltip_element__37yd_"}},30477:function(e){e.exports={main:"search-controls_main__1u24Z",with_open_now:"search-controls_with_open_now__tpUCl",child:"search-controls_child__qjWU5",drop_down_wrapper:"search-controls_drop_down_wrapper__3yE8c",hidden:"search-controls_hidden__18Dgl",for_desktop:"search-controls_for_desktop__3ICew",for_mobile:"search-controls_for_mobile__3LZzb",autocomplete_search_wrapper:"search-controls_autocomplete_search_wrapper__FdeuL",autocomplete_location_wrapper:"search-controls_autocomplete_location_wrapper__WxoUX",custom_tooltip:"search-controls_custom_tooltip__3q53P",checkbox_wrapper:"search-controls_checkbox_wrapper__12inS",button_wrapper:"search-controls_button_wrapper__3CVd_"}},23820:function(e){e.exports={module:"home-search_module__2hJ_k",background:"home-search_background__2yCWw",search_container:"home-search_search_container__3B3KX",search_controls_wrapper:"home-search_search_controls_wrapper__T3bc6",heading:"home-search_heading__3AgJq"}}}]);